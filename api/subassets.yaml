# yaml-language-server: $schema=https://raw.githubusercontent.com/reubenmiller/go-c8y-cli/v2/tools/schema/extensionCommands.json
---
$schema: https://raw.githubusercontent.com/reubenmiller/go-c8y-cli/v2/tools/schema/extensionCommands.json
group:
  name: subassets
  description: Manage Sub-Assets
commands:
  - name: assignSubAsset
    description: Assigns an asset as a sub-asset.
    method: POST
    path: service/dtm/assets/{assetId}/subAssets/{subAssetId}
    descriptionLong: >-
      Associates the specified asset, identified by its ID, with a parent asset. The sub-asset must already exist. If
      one of the IDs does not exist, the operation responds with HTTP 404. If one of the IDs is not an Asset, the
      operation responds with HTTP 422. Required user role: ROLE_DIGITAL_TWIN_ASSETS_ADMIN AND ROLE_INVENTORY_ADMIN
    pathParameters:
      - name: assetId
        type: string
        description: assetId identifier
        pipeline: true
        pipelineAliases:
          - id
          - assetId
          - asset.id
          - source.id
      - name: subAssetId
        type: string
        description: subAssetId identifier
        pipeline: true
        pipelineAliases:
          - id
          - subAssetId
          - subAsset.id
          - source.id
  - name: unassignSubAsset
    description: Removes a sub-asset from its parent asset.
    method: DELETE
    path: service/dtm/assets/{assetId}/subAssets/{subAssetId}
    descriptionLong: >-
      Removes the association of the specified asset, identified by its ID, with a parent asset. If one of the IDs does
      not exist, the operation responds with HTTP 404. If one of the IDs is not an Asset, the operation responds with
      HTTP 422. Required user role: ROLE_DIGITAL_TWIN_ASSETS_ADMIN AND ROLE_INVENTORY_ADMIN
    pathParameters:
      - name: assetId
        type: string
        description: assetId identifier
        pipeline: true
        pipelineAliases:
          - id
          - assetId
          - asset.id
          - source.id
      - name: subAssetId
        type: string
        description: subAssetId identifier
        pipeline: true
        pipelineAliases:
          - id
          - subAssetId
          - subAsset.id
          - source.id
  - name: getSubAssets
    description: Retrieves sub-assets of an asset.
    method: GET
    path: service/dtm/assets/{assetId}/subAssets
    descriptionLong: Fetches all sub-assets of the parent asset specified by assetId. You can optionally apply the filter query.
    pathParameters:
      - name: assetId
        type: string
        description: assetId identifier
        pipeline: true
        pipelineAliases:
          - id
          - assetId
          - asset.id
          - source.id
    queryParameters:
      - name: query
        type: string
        description: Use the $filter keyword to specify filtering criteria.
        required: false
      - name: withLinkedSeries
        type: boolean
        description: Indicates the resource to add the c8y_LinkedSeries fragment in the response.
        required: false
      - name: currentPage
        type: integer
        description: currentPage query parameter
        required: false
      - name: pageSize
        type: integer
        description: pageSize query parameter
        required: false
